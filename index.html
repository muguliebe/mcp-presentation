<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCP 활용 사례 - AI 에러 리포팅</title>
    <meta name="description" content="Model Context Protocol을 활용한 AI 에러 모니터링 시스템 발표">
    <meta name="author" content="개발팀">
    <meta name="keywords" content="MCP, Model Context Protocol, AI, 에러 모니터링, 자동화">
    
    <!-- Reveal.js CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.3.1/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.3.1/dist/theme/black.css">
    
    <!-- 폰트 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- 커스텀 CSS -->
    <link rel="stylesheet" href="assets/css/custom.css">
    
    <!-- Mermaid -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
</head>
<body>
    <div class="reveal">
        <div class="slides">
            
            <!-- 1. 타이틀 슬라이드 -->
            <section>
                <h1>MCP 활용 사례</h1>
                <h3>AI 에러 리포팅</h3>
                <p>Model Context Protocol을 활용한<br>에러 모니터링 시스템</p>
            </section>

            <!-- 2. Hook - 상상해보세요 -->
            <section>
                <h2><span class="emoji-large">🤔</span>Imagine</h2>
                
                <div class="fragment">
                    <h3>서버에 에러가 발생했을 때</h3>
                    <p>개발자가 직접 로그를 뒤지며 원인을 찾는 대신...</p>
                </div>
                
                <div class="fragment">
                    <h3>AI가 자동으로 에러를 분석하고</h3>
                    <p>프로젝트 컨텍스트를 이해하여 근본 원인을 파악</p>
                </div>
                
                <div class="fragment">
                    <h3>해결책을 제안해준다면?</h3>
                    <p><strong>30초 만에 메신저로 분석 결과</strong>를 받을 수 있다면?</p>
                </div>

                <div class="fragment">
                    <h3>소스 수정까지 알아서 해준다면?</h3>
                    <p>테스트 코드 작성까지 알아서 해준다면?</p>
                </div>
            </section>

            <!-- 3. MCP 기본 개념 소개 -->
            <section>
                <h2><span class="emoji-large">🤔</span>MCP?</h2>
                
                <div class="fragment">
                    <h3><strong>Model Context Protocol</strong></h3>
                    <p>AI와 외부 시스템을 연결하는 표준 프로토콜</p>
                </div>
                
                <div class="fragment">
                    <h3>쉽게 말하면</h3>
                    <p>USB-C 가 다양한 <strong>주변기기 및 액세서리에 연결</strong>하는 <strong>표준</strong>화된 방식을 제공하는 것처럼 </p>
                    <p>MCP는 AI 모델을 <strong>다양한 데이터 소스 및 도구</strong>에 연결하는 <strong>표준</strong>화된 방식을 제공합니다.</p>
                </div>
                
                <div class="fragment">
                    <div class="highlight-box">
                        <h3><span class="emoji-large">🧠</span>AI = 두뇌 + 입</h3>
                        <p>(생각하고 말하기만 가능)</p>
                        <h3><span class="emoji-large">👁️</span>MCP = 눈 + 귀 + 손</h3>
                        <p>(보고, 듣고, 행동하는 능력 부여)</p>
                    </div>
                </div>
            </section>

            <!-- 4. 기존 방식의 문제점 -->
            <section>
                <h2><span class="emoji-large"></span>10분 -> 3분</h2>
                
                <div class="comparison">
                    <div class="before">
                        <h4>Before</h4>
                        <ul>
                            <li>에러 발생 → 개발자가 직접 로그 확인</li>
                            <li>내가 모르는 소스 코드 분석</li>
                            <li>다수 인원이 중복 확인</li>
                            <li>Git 변경사항 수동 추적</li>
                            <li>원인 파악까지 긴 시간 소요</li>
                        </ul>
                        <div class="savings-highlight" style="background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);">
                            <h3><span class="emoji-large">⏱️</span>소요시간: 3분~20분 ✖️ 인원수</h3>
                        </div>
                    </div>
                    
                    <div class="after">
                        <h4>After</h4>
                        <ul>
                            <li>에러 발생 → AI가 자동 분석</li>
                            <li>워크스페이스 소스 코드 접근</li>
                            <li>Git 변경사항 자동 분석</li>
                            <li>프로젝트 컨텍스트 이해</li>
                            <li>근본적인 원인 파악 및 해결책 제안</li>
                        </ul>
                        <div class="savings-highlight">
                            <h3><span class="emoji-large">⚡</span>소요시간: 30초~2분</h3>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 5. MCP 기능 3가지 -->
            <section>
                <h2><span class="emoji-large">🔧</span>MCP SDK 3가지 활용</h2>
                
                <div class="mcp-features">
                    <div class="feature-card">
                        <div class="feature-icon">🛠️</div>
                        <h3>Tools (도구)</h3>
                        <p><strong>AI가 할 수 있는 작업</strong></p>
                        <ul>
                            <li>에러 모니터링 시작</li>
                            <li>AI 분석 실행</li>
                            <li>알림 전송</li>
                            <li>데이터 수집</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">🎯</div>
                        <h3>Sampling (질의)</h3>
                        <p><strong>AI에게 질문</strong></p>
                        <ul>
                            <li>에러 원인 분석 요청</li>
                            <li>해결책 생성 요청</li>
                            <li>컨텍스트 기반 추론</li>
                            <li>프롬프팅에 따른 분석</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">📚</div>
                        <h3>Resources (자원)</h3>
                        <p><strong>AI가 읽을 수 있는 데이터</strong></p>
                        <ul>
                            <li>워크스페이스 소스 코드</li>
                            <li>Git 변경 이력</li>
                            <li>설정 파일</li>
                            <li>로그 파일</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- 6. 아키텍처 (간단한 플로우) -->
            <section>
                <h2><span class="emoji-large">🏗️</span>Flow</h2>
                
                <div class="architecture-flow">
                    <div class="flow-step">
                        <h4>1️⃣ 백엔드 시스템</h4>
                        <p>에러 발생</p>
                    </div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-step">
                        <h4>2️⃣ WebSocket(SSE)</h4>
                        <p>에러 전파</p>
                    </div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-step">
                        <h4>3️⃣ MCP 서버</h4>
                        <p>에러 수신</p>
                    </div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-step">
                        <h4>4️⃣ AI 분석</h4>
                        <p>Sampling 실행</p>
                    </div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-step">
                        <h4>5️⃣ 팀 알림</h4>
                        <p>메신저 전송</p>
                    </div>
                </div>
            </section>

            <!-- 7. VS Code Copilot 연동 -->
            <section>
                <h2>일반적인 MCP 활용 시연</h2>
                
                <div class="fragment">
                    <ul>
                        <li><span class="emoji-large">🎯</span><strong>테스트 데이터</strong>: 스키마 보고 알아서 데이터 생성</li>
                        <li><span class="emoji-large">🤖</span><strong>렌더링 테스트</strong>: 브라우저에서 직접 테스트</li>
                    </ul>
                </div>
                
                <div class="fragment">
                    <h3>설정 예시</h3>
                    <pre><code class="json">{
  "mcpServers": {
    "error-monitoring": {
      "command": "node",
      "args": ["./mcp-server/index.js"]
    }
  }
}</code></pre>
                </div>
            </section>

            <!-- 8. 에러 모니터링 시스템 시퀀스 다이어그램 -->
            <section>
                <h2><span class="emoji-large">🔄</span>에러 모니터링 시스템 전체 흐름</h2>
                
                <div class="mermaid">
                    sequenceDiagram
                        participant App as "백엔드 애플리케이션"
                        participant WS as "WebSocket 서버"
                        participant SSE as "SSE/HTTPS 엔드포인트"
                        participant MCP as "MCP 서버"
                        participant VSCode as "VS Code"
                        participant AI as "Claude AI"
                        participant Notify as "알림 시스템"
                        participant Team as "개발팀"

                        Note over App: "1. 에러 발생"
                        App->>WS: "에러 데이터 전송"
                        Note over WS: "api: POST /docs/1/additional-info<br/>문서 부가 정보 변경 중 에러"

                        Note over WS: "2. WebSocket을 통한 에러 전파"
                        WS->>SSE: "WebSocket 메시지 변환"
                        
                        Note over SSE: "3. SSE/HTTPS 스트리밍"
                        SSE->>MCP: "실시간 에러 스트림 전송"
                        
                        Note over MCP: "4. MCP 서버 에러 수신"
                        MCP->>VSCode: "에러 감지 알림"
                        
                        Note over MCP: "5. 컨텍스트 수집"
                        MCP->>MCP: "Resources 접근<br/>- workspace://logs/error.log<br/>- workspace://config/app.json<br/>- workspace://docs/README.md"
                        
                        Note over MCP: "6. AI 분석 요청"
                        MCP->>AI: "sampling/createMessage 호출"
                        Note over AI: "systemPrompt:<br/>\"당신은 Spring Boot DPMS<br/>에러 분석 전문가입니다\""
                        
                        Note over AI: "7. 샘플링 실행"
                        AI->>AI: "에러 분석 처리<br/>- 에러 메시지 분석<br/>- 컨텍스트 이해<br/>- 해결책 생성"
                        
                        Note over AI: "8. 해결책 생성"
                        AI->>MCP: "분석 결과 반환<br/>- 원인 분석<br/>- 해결 방안<br/>- 예방 조치"
                        
                        Note over MCP: "9. 알림 전송"
                        MCP->>Notify: "분석 결과 전달"
                        
                        Note over Notify: "10. 팀 알림"
                        Notify->>Team: "메신저 알림 발송<br/>- 에러 요약<br/>- 해결책 제안<br/>- 우선순위 안내"

                        Note over Team: "전체 프로세스 완료<br/>⏱️ 소요 시간: 30초 ~ 1분"
                </div>
                
                <div class="fragment">
                    <div class="savings-highlight">
                        <h3><span class="emoji-large">⚡</span>30초 만에 에러 분석부터 팀 알림까지 완료!</h3>
                    </div>
                </div>
            </section>

            <!-- 9. 시나리오 - 실제 동작 과정 -->
            <section>
                <h2><span class="emoji-large">🎬</span>흐름별 핵심 코드</h2>
                
                <div class="fragment">
                    <h3>1단계: Tools 정의</h3>
                    <ul>
                        <li>에러 스트림 모니터링 시작</li>
                        <li>AI 분석 실행</li>
                        <li>메신저 전송</li>
                    </ul>
                </div>
                
                <div class="fragment">
                    <h3>2단계: Tool handler 정의 </h3>
                    <p>각 Tool 별로 실행될 로직을 함수로 정의한 뒤 맵핑 </p>
                </div>
                
                <div class="fragment">
                    <h3>3단계: AI Sampling</h3>
                    <p>에러 json 구조를 항목별로 상세히 설명하고, 리포팅 작성 구조에 대한 프롬프팅 작성</p>
                </div>
                
                <div class="fragment">
                    <h3>4단계: Resource</h3>
                    <p>프로젝트 소스코드, 환경을 설명하는 파일에 대한 description 과 함께 제공</p>
                </div>
            </section>

            <!-- 10. 핵심 코드 예제 1 - Tools 정의 -->
            <section>
                <h2><span class="emoji-large">🛠️</span>1단계: AI가 사용할 도구들 정의</h2>
                
                <pre><code class="javascript">// AI가 사용할 수 있는 도구들 정의
this.server.setRequestHandler(ListToolsRequestSchema, async () => {
    return {
        tools: [
            {
                name: 'start_error_monitoring',
                description: 'Spring Boot SSE 에러 스트림 모니터링 시작',
                inputSchema: { /* ... */ }
            },
            {
                name: 'analyze_with_ai',
                description: 'VS Code AI를 통한 에러 자동 분석',
                inputSchema: { /* ... */ }
            }
        ]
    };
});</code></pre>
                
                <div class="fragment">
                    <div class="highlight-box">
                        <h3>핵심 포인트</h3>
                        <p>AI가 "에러 모니터링"과 "분석 실행"이라는 도구를 사용할 수 있게 정의</p>
                    </div>
                </div>
            </section>

            <!-- 11. 핵심 코드 예제 2 - 함수 매핑 -->
            <section>
                <h2><span class="emoji-large">🔗</span>2단계: 각 도구별 실제 함수 연결</h2>
                
                <pre><code class="javascript">// 각 도구에 대응하는 실제 함수 매핑
this.server.setRequestHandler(CallToolRequestSchema, async (request) => {
    const { name, arguments: args } = request.params;
    
    switch (name) {
        case 'start_error_monitoring':
            return await this.startErrorMonitoring(args);
        case 'analyze_with_ai':
            return await this.analyzeWithAI(args);
        default:
            throw new Error(`Unknown tool: ${name}`);
    }
});</code></pre>
                
                <div class="fragment">
                    <div class="highlight-box">
                        <h3>핵심 포인트</h3>
                        <p>AI가 "analyze_with_ai"를 호출하면 실제 분석 함수가 실행됨</p>
                    </div>
                </div>
            </section>

            <!-- 12. 핵심 코드 예제 3 - AI 분석 -->
            <section>
                <h2><span class="emoji-large">🤖</span>3단계: AI에게 분석 요청</h2>
                
                <pre><code class="javascript">// MCP Sampling으로 AI 분석 요청
const samplingRequest = {
    method: 'sampling/createMessage',
    params: {
        messages: [{
            role: 'user',
            content: {
                type: 'text',
                text: `에러 분석 요청: ${errorMessage}`
            }
        }],
        systemPrompt: "당신은 Spring Boot 에러 분석 전문가입니다...",
        modelPreferences: {
            hints: [{ name: 'claude', priority: 1.0 }]
        }
    }
};

const response = await this.server.request(samplingRequest);</code></pre>
                
                <div class="fragment">
                    <div class="highlight-box">
                        <h3>핵심 포인트</h3>
                        <p>실제 우리 프로젝트의 에러 분석 프롬프트로 AI에게 질문</p>
                    </div>
                </div>
            </section>

            <!-- 13. 3단계 통합 흐름 요약 -->
            <section>
                <h2><span class="emoji-large">🎯</span>흐름 요약</h2>
                
                <div class="architecture-flow">
                    <div class="flow-step">
                        <h4>1️⃣ Tools 선언</h4>
                        <p>도구 정의</p>
                    </div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-step">
                        <h4>2️⃣ 함수 실행</h4>
                        <p>실제 연결</p>
                    </div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-step">
                        <h4>3️⃣ AI 분석</h4>
                        <p>Sampling 요청</p>
                    </div>
                </div>
                
                <div class="fragment">
                    <h3>AI 관점에서</h3>
                    <ul>
                        <li>AI: "어떤 도구를 쓸 수 있지?"</li>
                        <li>AI: "에러 분석 실행해줘!"</li>
                        <li>AI: "에러를 분석해보자!"</li>
                    </ul>
                </div>
                
                <div class="fragment">
                    <div class="savings-highlight">
                        <h3>결과: 에러 발생 → LLM 과 대화하며, 요청 분석과 메시지 전송을 요청 할 수 있는 환경</h3>
                    </div>
                </div>
            </section>

            <!-- 14. 메신저 에러 리포팅 결과 -->
            <section>
                <h2><span class="emoji-large">📱</span>메신저 에러 리포팅 결과</h2>
                
                <div class="messenger-container">
                    <div class="messenger-header">
                        <h3>🔔 개발팀 알림</h3>
                        <span class="timestamp">오늘 오후 4:23</span>
                    </div>
                    
                    <div class="messenger-message">
                        <div class="message-bot">
                            <div class="bot-avatar">🤖</div>
                            <div class="message-content">
                                <h4>📊 에러 분석 리포트</h4>
                                
                                <div class="error-section">
                                    <h5>📌 에러 정보</h5>
                                    <p><strong>에러 GUID</strong>: <code>20250619163OA024Xhost038001</code></p>
                                </div>
                                
                                <div class="error-section">
                                    <h5>🔍 AI 분석 결과</h5>
                                    <ul>
                                        <li><strong>에러 타입</strong>: <code>org.springframework.jdbc.BadSqlGrammarException</code></li>
                                        <li><strong>발생 위치</strong>: MyBatis 매퍼 파일 <code>/META-INF/mybatis/mapper/Mapper.xml</code> 내 <code>selectYo-Inline</code> 쿼리, <code>doTranslate</code> 메서드 (112라인)</li>
                                        <li><strong>HTTP 요청</strong>: <code>GET /hey/doc</code></li>
                                        <li><strong>사용자</strong>: USR0204(examUser)</li>
                                        <li><strong>에러 메시지</strong>: PostgreSQL에서 <code>main.dmandtt</code> 컬럼이 존재하지 않는다는 오류 발생</li>
                                        <li><strong>스택 트레이스</strong>: <code>org.postgresql.util.PSQLException: ERROR: column main.dmandtt does not exist Hint: Perhaps you meant to reference the column "main.dmandt".</code></li>
                                        <li><strong>관련파일</strong>: mapper.xml 홍길동 25.07.05 16:23:22 쿼리 수정</li>
                                    </ul>
                                </div>
                                
                                <div class="error-section summary">
                                    <h5>💡 요약</h5>
                                    <p><code>/hey/doc</code> API 호출 시, MyBatis 매퍼의 SQL에서 존재하지 않는 컬럼(<code>main.dmandtt</code>)을 조회하여 SQL 문법 오류가 발생했습니다.</p>
                                </div>
                                
                                <div class="message-time">방금 전</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="fragment">
                    <div class="savings-highlight">
                        <h3><span class="emoji-large">🎯</span>30초 만에 상세한 에러 분석 완료!</h3>
                    </div>
                </div>
            </section>

            <!-- 15. 실시간 에러 모니터링 -->
            <section>
                <h2><span class="emoji-large">🔗</span>에러 모니터링 최종 Ver.</h2>
                
                <div class="architecture-flow">
                    <div class="flow-step">
                        <h4>1️⃣ MCP 시작</h4>
                        <p>에이전트 구동</p>
                    </div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-step">
                        <h4>2️⃣ SSE 연결</h4>
                        <p>웹소켓 접속</p>
                    </div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-step">
                        <h4>3️⃣ 에러 구독</h4>
                        <p>실시간 리스닝</p>
                    </div>
                </div>
                
                <div class="fragment">
                    <h3><span class="emoji-large">⚡</span>3가지 Watcher 로 구성</h3>
                        <li><strong>에러 구독</strong> → 에러 수신 → 파일 Write</li>
                        <li><strong>에러폴더 Watch</strong> → 에러파일 떨어지면 Read → <strong>AI 분석 에러 리포팅</strong> → 리포팅 파일 Write</li>
                        <li><strong>리포팅 폴더 Watch</strong> → <strong>리포팅 메신저 전송</strong> → 완료 폴더 이동</li>
                </div>
                
                <div class="fragment">
                    <div class="highlight-box">
                        <h3>테스팅과 함께 커밋까지 한다면?</h3>
                    </div>
                </div>
            </section>

            <!-- 16. 마무리 - 핵심 메시지 -->
            <section>
                <h2><span class="emoji-large">🌟</span>Insights</h2>
                
                <div class="fragment">
                    <h3><span class="emoji-large">💡</span>LLM 으로 업무를</h3>
                    <p><strong>"지난주 나한테 할당된 업무중에 우선순위 높은 것들 보여줘"</strong></p>
                    <p><strong>"오늘 기안온거 다 결제로 해버려"</strong></p>
                    <p><strong>"업무 지연 프로젝트들 중에 업무 지연 허들이 주로 어느 팀이야"</strong></p>
                </div>
                
                <div class="fragment">
                    <h3><span class="emoji-large">🌐</span>Global AI 외국 진출?</h3>
                    <p><strong>티켓, 주식, 자산, 부동산..</strong></p>
                    <p><strong>ChatGPT = 플랫폼 통합 창구</strong></p>
                </div>
                
                <div class="fragment">
                    <div class="savings-highlight">
                        <h3><span class="emoji-large">🚀</span>MCP 를 시작으로<br>모든 업무 도구와 플랫폼을 연결하는 허브</h3>
                    </div>
                </div>
            </section>

            <!-- 17. 질의응답 -->
            <section>
                <h2><span class="emoji-large">💬</span>질의응답</h2>
                
                <div style="margin: 4rem 0;">
                    <h3>감사합니다.</h3>
                </div>
                
            </section>

        </div>
    </div>

    <!-- Reveal.js JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.3.1/dist/reveal.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.3.1/plugin/markdown/markdown.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.3.1/plugin/highlight/highlight.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.3.1/plugin/notes/notes.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.3.1/plugin/zoom/zoom.js"></script>
    
    <!-- 커스텀 JavaScript -->
    <script src="assets/js/custom.js"></script>
</body>
</html>